@localhost=localhost:4004/odata/v4/main
@id=adb98af2-2225-4306-935d-ce6264f516f8
@customerId=21461923-4fb3-4bdc-920a-7717356def40
# produto sem estoque
@productId1=18723831-0c4f-4a2d-887a-eddc8f02d1c8
@productId2=26566196-8793-49ed-a97a-b181c0ea99e3

GET http://{{localhost}}/SalesOrderHeaders?$filter=id eq {{id}}&$expand=items
Content-Type: application/json

###

POST http://{{localhost}}/SalesOrderHeaders
Content-Type: application/json
Authorization: Basic cuka:Inicial@12345

{
    "id": "{{id}}",
    "customer_id": "{{customerId}}",
    "items": [
        {
            "id": "c23ccfc1-2d10-4274-8e1c-6aa7d95e0300",
            "header_id": "{{id}}",
            "product_id": "{{productId2}}",
            "quantity": 10,
            "price": 2.99
        },
        {
            "id": "1463f1d6-4c71-4822-9497-86ede7ba9f2b",
            "header_id": "{{id}}",
            "product_id": "{{productId2}}",
            "quantity": 5,
            "price": 1.99
        }
    ]
}

###

DELETE http://{{localhost}}/SalesOrderHeaders(id={{id}})
Content-Type: application/json
Authorization: Basic joaozinho:Inicial@12345

###

PUT http://{{localhost}}/SalesOrderHeaders(id={{id}})
Content-Type: application/json
Authorization: Basic joaozinho:Inicial@12345

{
    "modifiedBy": "teste"
}

###

# Buscar todos os pedidos maiores ou iguais a 2 milh√µes
GET http://{{localhost}}/SalesOrderHeaders?$filter=totalAmount ge 2000000
Authorization: Basic joaozinho:Inicial@12345

###

# Buscar todos os pedidos menores ou iguais a 200k
GET http://{{localhost}}/SalesOrderHeaders?$filter=totalAmount le 200000
Authorization: Basic joaozinho:Inicial@12345

###

# Expandindo os items, produtos e customers
GET http://{{localhost}}/SalesOrderHeaders?$expand=items($expand=product),customer
Authorization: Basic joaozinho:Inicial@12345

###

# Expandindo os items, produtos, customers e filtrando
GET http://{{localhost}}/SalesOrderHeaders?$expand=items($expand=product;$filter=quantity le 30),customer
Authorization: Basic joaozinho:Inicial@12345

###

# Selecionar somente customer e id do sales order header

GET http://{{localhost}}/SalesOrderHeaders?$select=customer&$expand=customer($select=email)
Authorization: Basic joaozinho:Inicial@12345

###

# Descobrindo a quantidade de registros

GET http://{{localhost}}/SalesOrderHeaders/$count
Authorization: Basic joaozinho:Inicial@12345

###

# Paginando os registros

GET http://{{localhost}}/SalesOrderHeaders?$skip=10&$top=5
Authorization: Basic joaozinho:Inicial@12345

###

# Buscando dados com $search
GET http://{{localhost}}/SalesOrderHeaders?$search=91pve&$filter=totalAmount gt 500
Authorization: Basic joaozinho:Inicial@12345

###

# Funcionalidade de clonar pedidos
POST http://{{localhost}}/SalesOrderHeaders(15196739-2936-4d66-b85c-283f5ae8ec03)/cloneSalesOrder
Authorization: Basic cuka:cuka
Content-Type: application/json

{}